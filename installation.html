
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="refresh" content="0; URL=https://docs.datastax.com/en/developer/python-driver/latest/installation/">
    <link rel="canonical" href="https://docs.datastax.com/en/developer/python-driver/latest/installation/">
    <title>Installation &#8212; Cassandra Driver 3.13.0 documentation</title>
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.13.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Getting Started" href="getting_started.html" />
    <link rel="prev" title="cassandra.cqlengine.usertype - Model classes for User Defined Types" href="api/cassandra/cqlengine/usertype.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="supported-platforms">
<h2>Supported Platforms<a class="headerlink" href="#supported-platforms" title="Permalink to this headline">¶</a></h2>
<p>Python 2.6, 2.7, 3.3, and 3.4 are supported.  Both CPython (the standard Python
implementation) and <a class="reference external" href="http://pypy.org">PyPy</a> are supported and tested.</p>
<p>Linux, OSX, and Windows are supported.</p>
</div>
<div class="section" id="installation-through-pip">
<h2>Installation through pip<a class="headerlink" href="#installation-through-pip" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://pypi.python.org/pypi/pip">pip</a> is the suggested tool for installing
packages.  It will handle installing all Python dependencies for the driver at
the same time as the driver itself.  To install the driver*:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">cassandra</span><span class="o">-</span><span class="n">driver</span>
</pre></div>
</div>
<p>You can use <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--pre</span> <span class="pre">cassandra-driver</span></code> if you need to install a beta version.</p>
<p><strong>*Note</strong>: if intending to use optional extensions, install the <a class="reference external" href="#optional-non-python-dependencies">dependencies</a> first. The driver may need to be reinstalled if dependencies are added after the initial installation.</p>
<div class="section" id="osx-installation-error">
<h3>OSX Installation Error<a class="headerlink" href="#osx-installation-error" title="Permalink to this headline">¶</a></h3>
<p>If you’re installing on OSX and have XCode 5.1 installed, you may see an error like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">clang</span><span class="p">:</span> <span class="n">error</span><span class="p">:</span> <span class="n">unknown</span> <span class="n">argument</span><span class="p">:</span> <span class="s1">&#39;-mno-fused-madd&#39;</span> <span class="p">[</span><span class="o">-</span><span class="n">Wunused</span><span class="o">-</span><span class="n">command</span><span class="o">-</span><span class="n">line</span><span class="o">-</span><span class="n">argument</span><span class="o">-</span><span class="n">hard</span><span class="o">-</span><span class="n">error</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">future</span><span class="p">]</span>
</pre></div>
</div>
<p>To fix this, re-run the installation with an extra compilation flag:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ARCHFLAGS</span><span class="o">=-</span><span class="n">Wno</span><span class="o">-</span><span class="n">error</span><span class="o">=</span><span class="n">unused</span><span class="o">-</span><span class="n">command</span><span class="o">-</span><span class="n">line</span><span class="o">-</span><span class="n">argument</span><span class="o">-</span><span class="n">hard</span><span class="o">-</span><span class="n">error</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">future</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">cassandra</span><span class="o">-</span><span class="n">driver</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="windows-installation-notes">
<span id="windows-build"></span><h2>Windows Installation Notes<a class="headerlink" href="#windows-installation-notes" title="Permalink to this headline">¶</a></h2>
<p>Installing the driver with extensions in Windows sometimes presents some challenges. A few notes about common
hang-ups:</p>
<p>Setup requires a compiler. When using Python 2, this is as simple as installing <a class="reference external" href="http://aka.ms/vcpython27">this package</a>
(this link is also emitted during install if setuptools is unable to find the resources it needs). Depending on your
system settings, this package may install as a user-specific application. Make sure to install for everyone, or at least
as the user that will be building the Python environment.</p>
<p>It is also possible to run the build with your compiler of choice. Just make sure to have your environment setup with
the proper paths. Make sure the compiler target architecture matches the bitness of your Python runtime.
Perhaps the easiest way to do this is to run the build/install from a Visual Studio Command Prompt (a
shortcut installed with Visual Studio that sources the appropriate environment and presents a shell).</p>
</div>
<div class="section" id="manual-installation">
<h2>Manual Installation<a class="headerlink" href="#manual-installation" title="Permalink to this headline">¶</a></h2>
<p>You can always install the driver directly from a source checkout or tarball.
When installing manually, ensure the python dependencies are already
installed. You can find the list of dependencies in
<a class="reference external" href="https://github.com/datastax/python-driver/blob/master/requirements.txt">requirements.txt</a>.</p>
<p>Once the dependencies are installed, simply run:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
</div>
<div class="section" id="verifying-your-installation">
<h2>Verifying your Installation<a class="headerlink" href="#verifying-your-installation" title="Permalink to this headline">¶</a></h2>
<p>To check if the installation was successful, you can run:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">c</span> <span class="s1">&#39;import cassandra; print cassandra.__version__&#39;</span>
</pre></div>
</div>
<p>It should print something like “2.7.0”.</p>
</div>
<div class="section" id="optional-compression-support">
<h2>(<em>Optional</em>) Compression Support<a class="headerlink" href="#optional-compression-support" title="Permalink to this headline">¶</a></h2>
<p>Compression can optionally be used for communication between the driver and
Cassandra.  There are currently two supported compression algorithms:
snappy (in Cassandra 1.2+) and LZ4 (only in Cassandra 2.0+).  If either is
available for the driver and Cassandra also supports it, it will
be used automatically.</p>
<p>For lz4 support:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">lz4</span>
</pre></div>
</div>
<p>For snappy support:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">python</span><span class="o">-</span><span class="n">snappy</span>
</pre></div>
</div>
<p>(If using a Debian Linux derivative such as Ubuntu, it may be easier to
just run <code class="docutils literal"><span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">python-snappy</span></code>.)</p>
</div>
<div class="section" id="optional-metrics-support">
<h2>(<em>Optional</em>) Metrics Support<a class="headerlink" href="#optional-metrics-support" title="Permalink to this headline">¶</a></h2>
<p>The driver has built-in support for capturing <a class="reference internal" href="api/cassandra/cluster.html#cassandra.cluster.Cluster.metrics" title="cassandra.cluster.Cluster.metrics"><code class="xref py py-attr docutils literal"><span class="pre">Cluster.metrics</span></code></a> about
the queries you run.  However, the <code class="docutils literal"><span class="pre">scales</span></code> library is required to
support this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">scales</span>
</pre></div>
</div>
</div>
<div class="section" id="optional-non-python-dependencies">
<h2>(<em>Optional</em>) Non-python Dependencies<a class="headerlink" href="#optional-non-python-dependencies" title="Permalink to this headline">¶</a></h2>
<p>The driver has several <strong>optional</strong> features that have non-Python dependencies.</p>
<div class="section" id="c-extensions">
<h3>C Extensions<a class="headerlink" href="#c-extensions" title="Permalink to this headline">¶</a></h3>
<p>By default, a number of extensions are compiled, providing faster hashing
for token-aware routing with the <code class="docutils literal"><span class="pre">Murmur3Partitioner</span></code>,
<a class="reference external" href="http://software.schmorp.de/pkg/libev.html">libev</a> event loop integration,
and Cython optimized extensions.</p>
<p>When installing manually through setup.py, you can disable both with
the <code class="docutils literal"><span class="pre">--no-extensions</span></code> option, or selectively disable them with
with <code class="docutils literal"><span class="pre">--no-murmur3</span></code>, <code class="docutils literal"><span class="pre">--no-libev</span></code>, or <code class="docutils literal"><span class="pre">--no-cython</span></code>.</p>
<p>To compile the extensions, ensure that GCC and the Python headers are available.</p>
<p>On Ubuntu and Debian, this can be accomplished by running:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ sudo apt-get install gcc python-dev
</pre></div>
</div>
<p>On RedHat and RedHat-based systems like CentOS and Fedora:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ sudo yum install gcc python-devel
</pre></div>
</div>
<p>On OS X, homebrew installations of Python should provide the necessary headers.</p>
<p>See <a class="reference internal" href="#windows-build"><span class="std std-ref">Windows Installation Notes</span></a> for notes on configuring the build environment on Windows.</p>
<div class="section" id="cython-based-extensions">
<h4>Cython-based Extensions<a class="headerlink" href="#cython-based-extensions" title="Permalink to this headline">¶</a></h4>
<p>By default, this package uses <a class="reference external" href="http://cython.org/">Cython</a> to optimize core modules and build custom extensions.
This is not a hard requirement, but is engaged by default to build extensions offering better performance than the
pure Python implementation.</p>
<p>This is a costly build phase, especially in clean environments where the Cython compiler must be built
This build phase can be avoided using the build switch, or an environment variable:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">cython</span>
</pre></div>
</div>
<p>Alternatively, an environment variable can be used to switch this option regardless of
context:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">CASS_DRIVER_NO_CYTHON</span><span class="o">=</span><span class="mi">1</span> <span class="o">&lt;</span><span class="n">your</span> <span class="n">script</span> <span class="n">here</span><span class="o">&gt;</span>
<span class="o">-</span> <span class="ow">or</span><span class="p">,</span> <span class="n">to</span> <span class="n">disable</span> <span class="nb">all</span> <span class="n">extensions</span><span class="p">:</span>
<span class="n">CASS_DRIVER_NO_EXTENSIONS</span><span class="o">=</span><span class="mi">1</span> <span class="o">&lt;</span><span class="n">your</span> <span class="n">script</span> <span class="n">here</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This method is required when using pip, which provides no other way of injecting user options in a single command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">CASS_DRIVER_NO_CYTHON</span><span class="o">=</span><span class="mi">1</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">cassandra</span><span class="o">-</span><span class="n">driver</span>
<span class="n">CASS_DRIVER_NO_CYTHON</span><span class="o">=</span><span class="mi">1</span> <span class="n">sudo</span> <span class="o">-</span><span class="n">E</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">~/</span><span class="n">python</span><span class="o">-</span><span class="n">driver</span>
</pre></div>
</div>
<p>The environment variable is the preferred option because it spans all invocations of setup.py, and will
prevent Cython from being materialized as a setup requirement.</p>
<p>If your sudo configuration does not allow SETENV, you must push the option flag down via pip. However, pip
applies these options to all dependencies (which break on the custom flag). Therefore, you must first install
dependencies, then use install-option:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">six</span> <span class="n">futures</span>
<span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">install</span><span class="o">-</span><span class="n">option</span><span class="o">=</span><span class="s2">&quot;--no-cython&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="libev-support">
<h3>libev support<a class="headerlink" href="#libev-support" title="Permalink to this headline">¶</a></h3>
<p>The driver currently uses Python’s <code class="docutils literal"><span class="pre">asyncore</span></code> module for its default
event loop.  For better performance, <code class="docutils literal"><span class="pre">libev</span></code> is also supported through
a C extension.</p>
<p>If you’re on Linux, you should be able to install libev
through a package manager.  For example, on Debian/Ubuntu:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ sudo apt-get install libev4 libev-dev
</pre></div>
</div>
<p>On RHEL/CentOS/Fedora:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ sudo yum install libev libev-devel
</pre></div>
</div>
<p>If you’re on Mac OS X, you should be able to install libev
through <a class="reference external" href="http://brew.sh/">Homebrew</a>. For example, on Mac OS X:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ brew install libev
</pre></div>
</div>
<p>The libev extension is not built for Windows (the build process is complex, and the Windows implementation uses
select anyway).</p>
<p>If successful, you should be able to build and install the extension
(just using <code class="docutils literal"><span class="pre">setup.py</span> <span class="pre">build</span></code> or <code class="docutils literal"><span class="pre">setup.py</span> <span class="pre">install</span></code>) and then use
the libev event loop by doing the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cassandra.io.libevreactor</span> <span class="kn">import</span> <span class="n">LibevConnection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cassandra.cluster</span> <span class="kn">import</span> <span class="n">Cluster</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span> <span class="o">=</span> <span class="n">Cluster</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">connection_class</span> <span class="o">=</span> <span class="n">LibevConnection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="optional-configuring-ssl">
<h2>(<em>Optional</em>) Configuring SSL<a class="headerlink" href="#optional-configuring-ssl" title="Permalink to this headline">¶</a></h2>
<p>Andrew Mussey has published a thorough guide on
<a class="reference external" href="http://blog.amussey.com/post/64036730812/cassandra-2-0-client-server-ssl-with-datastax-python">Using SSL with the DataStax Python driver</a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Cassandra Driver</a></h1>



<p class="blurb">Python driver for Cassandra</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=datastax&repo=python-driver&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API Documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#supported-platforms">Supported Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation-through-pip">Installation through pip</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#osx-installation-error">OSX Installation Error</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#windows-installation-notes">Windows Installation Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#manual-installation">Manual Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#verifying-your-installation">Verifying your Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#optional-compression-support">(<em>Optional</em>) Compression Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#optional-metrics-support">(<em>Optional</em>) Metrics Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#optional-non-python-dependencies">(<em>Optional</em>) Non-python Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#c-extensions">C Extensions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cython-based-extensions">Cython-based Extensions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#libev-support">libev support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#optional-configuring-ssl">(<em>Optional</em>) Configuring SSL</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="execution_profiles.html">Execution Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Performance Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="query_paging.html">Paging Large Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="lwt.html">Lightweight Transactions (Compare-and-set)</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_defined_types.html">User Defined Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="object_mapper.html">Object Mapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="dates_and_times.html">Working with Dates and Times</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="api/cassandra/cqlengine/usertype.html" title="previous chapter"><code class="docutils literal"><span class="pre">cassandra.cqlengine.usertype</span></code> - Model classes for User Defined Types</a></li>
      <li>Next: <a href="getting_started.html" title="next chapter">Getting Started</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2013-2017 DataStax.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/installation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>