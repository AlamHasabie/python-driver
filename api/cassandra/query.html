
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="refresh" content="0; URL=https://docs.datastax.com/en/developer/python-driver/latest/api/cassandra/query/">
    <link rel="canonical" href="https://docs.datastax.com/en/developer/python-driver/latest/api/cassandra/query/">
    <title>cassandra.query - Prepared Statements, Batch Statements, Tracing, and Row Factories &#8212; Cassandra Driver 3.13.0 documentation</title>
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.13.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="cassandra.pool - Hosts and Connection Pools" href="pool.html" />
    <link rel="prev" title="cassandra.metrics - Performance Metrics" href="metrics.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-cassandra.query">
<span id="cassandra-query-prepared-statements-batch-statements-tracing-and-row-factories"></span><h1><code class="docutils literal"><span class="pre">cassandra.query</span></code> - Prepared Statements, Batch Statements, Tracing, and Row Factories<a class="headerlink" href="#module-cassandra.query" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="cassandra.query.tuple_factory">
<code class="descclassname">cassandra.query.</code><code class="descname">tuple_factory</code><span class="sig-paren">(</span><em>colnames</em>, <em>rows</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cassandra/query.html#tuple_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.tuple_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns each row as a tuple</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cassandra.query</span> <span class="k">import</span> <span class="n">tuple_factory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;mykeyspace&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">row_factory</span> <span class="o">=</span> <span class="n">tuple_factory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rows</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT name, age FROM users LIMIT 1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">(&#39;Bob&#39;, 42)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.0.0: </span>moved from <code class="docutils literal"><span class="pre">cassandra.decoder</span></code> to <code class="docutils literal"><span class="pre">cassandra.query</span></code></p>
</div>
</dd></dl>

<dl class="function">
<dt id="cassandra.query.named_tuple_factory">
<code class="descclassname">cassandra.query.</code><code class="descname">named_tuple_factory</code><span class="sig-paren">(</span><em>colnames</em>, <em>rows</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cassandra/query.html#named_tuple_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.named_tuple_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns each row as a <a class="reference external" href="https://docs.python.org/2/library/collections.html#collections.namedtuple">namedtuple</a>.
This is the default row factory.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cassandra.query</span> <span class="k">import</span> <span class="n">named_tuple_factory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;mykeyspace&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">row_factory</span> <span class="o">=</span> <span class="n">named_tuple_factory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rows</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT name, age FROM users LIMIT 1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">user</span> <span class="o">=</span> <span class="n">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># you can access field by their name:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="s2">&quot;name: </span><span class="si">%s</span><span class="s2">, age: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">age</span><span class="p">)</span>
<span class="go">name: Bob, age: 42</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># or you can access fields by their position (like a tuple)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span><span class="p">,</span> <span class="n">age</span> <span class="o">=</span> <span class="n">user</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="s2">&quot;name: </span><span class="si">%s</span><span class="s2">, age: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
<span class="go">name: Bob, age: 42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="n">user</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">age</span> <span class="o">=</span> <span class="n">user</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="s2">&quot;name: </span><span class="si">%s</span><span class="s2">, age: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
<span class="go">name: Bob, age: 42</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.0.0: </span>moved from <code class="docutils literal"><span class="pre">cassandra.decoder</span></code> to <code class="docutils literal"><span class="pre">cassandra.query</span></code></p>
</div>
</dd></dl>

<dl class="function">
<dt id="cassandra.query.dict_factory">
<code class="descclassname">cassandra.query.</code><code class="descname">dict_factory</code><span class="sig-paren">(</span><em>colnames</em>, <em>rows</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cassandra/query.html#dict_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.dict_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns each row as a dict.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cassandra.query</span> <span class="k">import</span> <span class="n">dict_factory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;mykeyspace&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">row_factory</span> <span class="o">=</span> <span class="n">dict_factory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rows</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT name, age FROM users LIMIT 1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">{u&#39;age&#39;: 42, u&#39;name&#39;: u&#39;Bob&#39;}</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.0.0: </span>moved from <code class="docutils literal"><span class="pre">cassandra.decoder</span></code> to <code class="docutils literal"><span class="pre">cassandra.query</span></code></p>
</div>
</dd></dl>

<dl class="function">
<dt id="cassandra.query.ordered_dict_factory">
<code class="descclassname">cassandra.query.</code><code class="descname">ordered_dict_factory</code><span class="sig-paren">(</span><em>colnames</em>, <em>rows</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cassandra/query.html#ordered_dict_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.ordered_dict_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#cassandra.query.dict_factory" title="cassandra.query.dict_factory"><code class="xref py py-meth docutils literal"><span class="pre">dict_factory()</span></code></a>, but returns each row as an OrderedDict,
so the order of the columns is preserved.</p>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.0.0: </span>moved from <code class="docutils literal"><span class="pre">cassandra.decoder</span></code> to <code class="docutils literal"><span class="pre">cassandra.query</span></code></p>
</div>
</dd></dl>

<dl class="class">
<dt id="cassandra.query.SimpleStatement">
<em class="property">class </em><code class="descclassname">cassandra.query.</code><code class="descname">SimpleStatement</code><span class="sig-paren">(</span><em>query_string</em>, <em>retry_policy=None</em>, <em>consistency_level=None</em>, <em>routing_key=None</em>, <em>serial_consistency_level=None</em>, <em>fetch_size=&lt;object object&gt;</em>, <em>keyspace=None</em>, <em>custom_payload=None</em>, <em>is_idempotent=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cassandra/query.html#SimpleStatement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.SimpleStatement" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple, un-prepared query.</p>
<p><cite>query_string</cite> should be a literal CQL statement with the exception
of parameter placeholders that will be filled through the
<cite>parameters</cite> argument of <a class="reference internal" href="cluster.html#cassandra.cluster.Session.execute" title="cassandra.cluster.Session.execute"><code class="xref py py-meth docutils literal"><span class="pre">Session.execute()</span></code></a>.</p>
<p>See <a class="reference internal" href="#cassandra.query.Statement" title="cassandra.query.Statement"><code class="xref py py-class docutils literal"><span class="pre">Statement</span></code></a> attributes for a description of the other parameters.</p>
</dd></dl>

<dl class="class">
<dt id="cassandra.query.PreparedStatement">
<em class="property">class </em><code class="descclassname">cassandra.query.</code><code class="descname">PreparedStatement</code><a class="reference internal" href="../../_modules/cassandra/query.html#PreparedStatement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.PreparedStatement" title="Permalink to this definition">¶</a></dt>
<dd><p>A statement that has been prepared against at least one Cassandra node.
Instances of this class should not be created directly, but through
<a class="reference internal" href="cluster.html#cassandra.cluster.Session.prepare" title="cassandra.cluster.Session.prepare"><code class="xref py py-meth docutils literal"><span class="pre">Session.prepare()</span></code></a>.</p>
<p>A <a class="reference internal" href="#cassandra.query.PreparedStatement" title="cassandra.query.PreparedStatement"><code class="xref py py-class docutils literal"><span class="pre">PreparedStatement</span></code></a> should be prepared only once. Re-preparing a statement
may affect performance (as the operation requires a network roundtrip).</p>
<p><b>A note about <code>*</code> in prepared statements</b>: Do not use <code class="docutils literal"><span class="pre">*</span></code> in prepared statements if you might
change the schema of the table being queried. The driver and server each
maintain a map between metadata for a schema and statements that were
prepared against that schema. When a user changes a schema, e.g. by adding
or removing a column, the server invalidates its mappings involving that
schema. However, there is currently no way to propagate that invalidation
to drivers. Thus, after a schema change, the driver will incorrectly
interpret the results of <code class="docutils literal"><span class="pre">SELECT</span> <span class="pre">*</span></code> queries prepared before the schema
change. This is currently being addressed in <a class="reference external" href="https://issues.apache.org/jira/browse/CASSANDRA-10786">CASSANDRA-10786</a>.</p>
<dl class="method">
<dt id="cassandra.query.PreparedStatement.bind">
<code class="descname">bind</code><span class="sig-paren">(</span><em>values</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cassandra/query.html#PreparedStatement.bind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.PreparedStatement.bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and returns a <a class="reference internal" href="#cassandra.query.BoundStatement" title="cassandra.query.BoundStatement"><code class="xref py py-class docutils literal"><span class="pre">BoundStatement</span></code></a> instance using <cite>values</cite>.</p>
<p>See <a class="reference internal" href="#cassandra.query.BoundStatement.bind" title="cassandra.query.BoundStatement.bind"><code class="xref py py-meth docutils literal"><span class="pre">BoundStatement.bind()</span></code></a> for rules on input <code class="docutils literal"><span class="pre">values</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cassandra.query.BoundStatement">
<em class="property">class </em><code class="descclassname">cassandra.query.</code><code class="descname">BoundStatement</code><span class="sig-paren">(</span><em>prepared_statement</em>, <em>retry_policy=None</em>, <em>consistency_level=None</em>, <em>routing_key=None</em>, <em>serial_consistency_level=None</em>, <em>fetch_size=&lt;object object&gt;</em>, <em>keyspace=None</em>, <em>custom_payload=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cassandra/query.html#BoundStatement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.BoundStatement" title="Permalink to this definition">¶</a></dt>
<dd><p>A prepared statement that has been bound to a particular set of values.
These may be created directly or through <a class="reference internal" href="#cassandra.query.PreparedStatement.bind" title="cassandra.query.PreparedStatement.bind"><code class="xref py py-meth docutils literal"><span class="pre">PreparedStatement.bind()</span></code></a>.</p>
<p><cite>prepared_statement</cite> should be an instance of <a class="reference internal" href="#cassandra.query.PreparedStatement" title="cassandra.query.PreparedStatement"><code class="xref py py-class docutils literal"><span class="pre">PreparedStatement</span></code></a>.</p>
<p>See <a class="reference internal" href="#cassandra.query.Statement" title="cassandra.query.Statement"><code class="xref py py-class docutils literal"><span class="pre">Statement</span></code></a> attributes for a description of the other parameters.</p>
<dl class="attribute">
<dt id="cassandra.query.BoundStatement.prepared_statement">
<code class="descname">prepared_statement</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.BoundStatement.prepared_statement" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#cassandra.query.PreparedStatement" title="cassandra.query.PreparedStatement"><code class="xref py py-class docutils literal"><span class="pre">PreparedStatement</span></code></a> instance that this was created from.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.BoundStatement.values">
<code class="descname">values</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.BoundStatement.values" title="Permalink to this definition">¶</a></dt>
<dd><p>The sequence of values that were bound to the prepared statement.</p>
</dd></dl>

<dl class="method">
<dt id="cassandra.query.BoundStatement.bind">
<code class="descname">bind</code><span class="sig-paren">(</span><em>values</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cassandra/query.html#BoundStatement.bind"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.BoundStatement.bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Binds a sequence of values for the prepared statement parameters
and returns this instance.  Note that <cite>values</cite> <em>must</em> be:</p>
<ul class="simple">
<li>a sequence, even if you are only binding one value, or</li>
<li>a dict that relates 1-to-1 between dict keys and columns</li>
</ul>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.6.0: </span><a class="reference internal" href="#cassandra.query.UNSET_VALUE" title="cassandra.query.UNSET_VALUE"><code class="xref py py-data docutils literal"><span class="pre">UNSET_VALUE</span></code></a> was introduced. These can be bound as positional parameters
in a sequence, or by name in a dict. Additionally, when using protocol v4+:</p>
<ul class="simple">
<li>short sequences will be extended to match bind parameters with UNSET_VALUE</li>
<li>names may be omitted from a dict with UNSET_VALUE implied.</li>
</ul>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 3.0.0: </span>method will not throw if extra keys are present in bound dict (PYTHON-178)</p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cassandra.query.Statement">
<em class="property">class </em><code class="descclassname">cassandra.query.</code><code class="descname">Statement</code><a class="reference internal" href="../../_modules/cassandra/query.html#Statement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.Statement" title="Permalink to this definition">¶</a></dt>
<dd><p>An abstract class representing a single query. There are three subclasses:
<a class="reference internal" href="#cassandra.query.SimpleStatement" title="cassandra.query.SimpleStatement"><code class="xref py py-class docutils literal"><span class="pre">SimpleStatement</span></code></a>, <a class="reference internal" href="#cassandra.query.BoundStatement" title="cassandra.query.BoundStatement"><code class="xref py py-class docutils literal"><span class="pre">BoundStatement</span></code></a>, and <a class="reference internal" href="#cassandra.query.BatchStatement" title="cassandra.query.BatchStatement"><code class="xref py py-class docutils literal"><span class="pre">BatchStatement</span></code></a>.
These can be passed to <a class="reference internal" href="cluster.html#cassandra.cluster.Session.execute" title="cassandra.cluster.Session.execute"><code class="xref py py-meth docutils literal"><span class="pre">Session.execute()</span></code></a>.</p>
<dl class="attribute">
<dt id="cassandra.query.Statement.retry_policy">
<code class="descname">retry_policy</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.Statement.retry_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>An instance of a <a class="reference internal" href="policies.html#cassandra.policies.RetryPolicy" title="cassandra.policies.RetryPolicy"><code class="xref py py-class docutils literal"><span class="pre">cassandra.policies.RetryPolicy</span></code></a> or one of its
subclasses.  This controls when a query will be retried and how it
will be retried.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.Statement.consistency_level">
<code class="descname">consistency_level</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.Statement.consistency_level" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="../cassandra.html#cassandra.ConsistencyLevel" title="cassandra.ConsistencyLevel"><code class="xref py py-class docutils literal"><span class="pre">ConsistencyLevel</span></code></a> to be used for this operation.  Defaults
to <code class="xref py py-const docutils literal"><span class="pre">None</span></code>, which means that the default consistency level for
the Session this is executed in will be used.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.Statement.fetch_size">
<code class="descname">fetch_size</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#cassandra.query.Statement.fetch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>How many rows will be fetched at a time.  This overrides the default
of <a class="reference internal" href="cluster.html#cassandra.cluster.Session.default_fetch_size" title="cassandra.cluster.Session.default_fetch_size"><code class="xref py py-attr docutils literal"><span class="pre">Session.default_fetch_size</span></code></a></p>
<p>This only takes effect when protocol version 2 or higher is used.
See <a class="reference internal" href="cluster.html#cassandra.cluster.Cluster.protocol_version" title="cassandra.cluster.Cluster.protocol_version"><code class="xref py py-attr docutils literal"><span class="pre">Cluster.protocol_version</span></code></a> for details.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.0.0.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.Statement.keyspace">
<code class="descname">keyspace</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.Statement.keyspace" title="Permalink to this definition">¶</a></dt>
<dd><p>The string name of the keyspace this query acts on. This is used when
<a class="reference internal" href="policies.html#cassandra.policies.TokenAwarePolicy" title="cassandra.policies.TokenAwarePolicy"><code class="xref py py-class docutils literal"><span class="pre">TokenAwarePolicy</span></code></a> is configured for
<a class="reference internal" href="cluster.html#cassandra.cluster.Cluster.load_balancing_policy" title="cassandra.cluster.Cluster.load_balancing_policy"><code class="xref py py-attr docutils literal"><span class="pre">Cluster.load_balancing_policy</span></code></a></p>
<p>It is set implicitly on <a class="reference internal" href="#cassandra.query.BoundStatement" title="cassandra.query.BoundStatement"><code class="xref py py-class docutils literal"><span class="pre">BoundStatement</span></code></a>, and <a class="reference internal" href="#cassandra.query.BatchStatement" title="cassandra.query.BatchStatement"><code class="xref py py-class docutils literal"><span class="pre">BatchStatement</span></code></a>,
but must be set explicitly on <a class="reference internal" href="#cassandra.query.SimpleStatement" title="cassandra.query.SimpleStatement"><code class="xref py py-class docutils literal"><span class="pre">SimpleStatement</span></code></a>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.3.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.Statement.custom_payload">
<code class="descname">custom_payload</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.Statement.custom_payload" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="protocol.html#custom-payload"><span class="std std-ref">Custom Payloads</span></a> to be passed to the server.</p>
<p>These are only allowed when using protocol version 4 or higher.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.6.0.</span></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.Statement.is_idempotent">
<code class="descname">is_idempotent</code><em class="property"> = False</em><a class="headerlink" href="#cassandra.query.Statement.is_idempotent" title="Permalink to this definition">¶</a></dt>
<dd><p>Flag indicating whether this statement is safe to run multiple times in speculative execution.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.Statement.routing_key">
<code class="descname">routing_key</code><a class="headerlink" href="#cassandra.query.Statement.routing_key" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="metadata.html#cassandra.metadata.TableMetadata.partition_key" title="cassandra.metadata.TableMetadata.partition_key"><code class="xref py py-attr docutils literal"><span class="pre">partition_key</span></code></a> portion of the primary key,
which can be used to determine which nodes are replicas for the query.</p>
<p>If the partition key is a composite, a list or tuple must be passed in.
Each key component should be in its packed (binary) format, so all
components should be strings.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.Statement.serial_consistency_level">
<code class="descname">serial_consistency_level</code><a class="headerlink" href="#cassandra.query.Statement.serial_consistency_level" title="Permalink to this definition">¶</a></dt>
<dd><p>The serial consistency level is only used by conditional updates
(<code class="docutils literal"><span class="pre">INSERT</span></code>, <code class="docutils literal"><span class="pre">UPDATE</span></code> and <code class="docutils literal"><span class="pre">DELETE</span></code> with an <code class="docutils literal"><span class="pre">IF</span></code> condition).  For
those, the <code class="docutils literal"><span class="pre">serial_consistency_level</span></code> defines the consistency level of
the serial phase (or “paxos” phase) while the normal
<a class="reference internal" href="#cassandra.query.Statement.consistency_level" title="cassandra.query.Statement.consistency_level"><code class="xref py py-attr docutils literal"><span class="pre">consistency_level</span></code></a> defines the consistency for the “learn” phase,
i.e. what type of reads will be guaranteed to see the update right away.
For example, if a conditional write has a <a class="reference internal" href="#cassandra.query.Statement.consistency_level" title="cassandra.query.Statement.consistency_level"><code class="xref py py-attr docutils literal"><span class="pre">consistency_level</span></code></a> of
<a class="reference internal" href="../cassandra.html#cassandra.ConsistencyLevel.QUORUM" title="cassandra.ConsistencyLevel.QUORUM"><code class="xref py py-attr docutils literal"><span class="pre">QUORUM</span></code></a> (and is successful), then a
<a class="reference internal" href="../cassandra.html#cassandra.ConsistencyLevel.QUORUM" title="cassandra.ConsistencyLevel.QUORUM"><code class="xref py py-attr docutils literal"><span class="pre">QUORUM</span></code></a> read is guaranteed to see that write.
But if the regular <a class="reference internal" href="#cassandra.query.Statement.consistency_level" title="cassandra.query.Statement.consistency_level"><code class="xref py py-attr docutils literal"><span class="pre">consistency_level</span></code></a> of that write is
<a class="reference internal" href="../cassandra.html#cassandra.ConsistencyLevel.ANY" title="cassandra.ConsistencyLevel.ANY"><code class="xref py py-attr docutils literal"><span class="pre">ANY</span></code></a>, then only a read with a
<a class="reference internal" href="#cassandra.query.Statement.consistency_level" title="cassandra.query.Statement.consistency_level"><code class="xref py py-attr docutils literal"><span class="pre">consistency_level</span></code></a> of <a class="reference internal" href="../cassandra.html#cassandra.ConsistencyLevel.SERIAL" title="cassandra.ConsistencyLevel.SERIAL"><code class="xref py py-attr docutils literal"><span class="pre">SERIAL</span></code></a> is
guaranteed to see it (even a read with consistency
<a class="reference internal" href="../cassandra.html#cassandra.ConsistencyLevel.ALL" title="cassandra.ConsistencyLevel.ALL"><code class="xref py py-attr docutils literal"><span class="pre">ALL</span></code></a> is not guaranteed to be enough).</p>
<p>The serial consistency can only be one of <a class="reference internal" href="../cassandra.html#cassandra.ConsistencyLevel.SERIAL" title="cassandra.ConsistencyLevel.SERIAL"><code class="xref py py-attr docutils literal"><span class="pre">SERIAL</span></code></a>
or <a class="reference internal" href="../cassandra.html#cassandra.ConsistencyLevel.LOCAL_SERIAL" title="cassandra.ConsistencyLevel.LOCAL_SERIAL"><code class="xref py py-attr docutils literal"><span class="pre">LOCAL_SERIAL</span></code></a>. While <code class="docutils literal"><span class="pre">SERIAL</span></code> guarantees full
linearizability (with other <code class="docutils literal"><span class="pre">SERIAL</span></code> updates), <code class="docutils literal"><span class="pre">LOCAL_SERIAL</span></code> only
guarantees it in the local data center.</p>
<p>The serial consistency level is ignored for any query that is not a
conditional update. Serial reads should use the regular
<a class="reference internal" href="#cassandra.query.Statement.consistency_level" title="cassandra.query.Statement.consistency_level"><code class="xref py py-attr docutils literal"><span class="pre">consistency_level</span></code></a>.</p>
<p>Serial consistency levels may only be used against Cassandra 2.0+
and the <a class="reference internal" href="cluster.html#cassandra.cluster.Cluster.protocol_version" title="cassandra.cluster.Cluster.protocol_version"><code class="xref py py-attr docutils literal"><span class="pre">protocol_version</span></code></a> must be set to 2 or higher.</p>
<p>See <a class="reference internal" href="../../lwt.html"><span class="doc">Lightweight Transactions (Compare-and-set)</span></a> for a discussion on how to work with results returned from
conditional statements.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.0.0.</span></p>
</div>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="cassandra.query.UNSET_VALUE">
<code class="descclassname">cassandra.query.</code><code class="descname">UNSET_VALUE</code><a class="headerlink" href="#cassandra.query.UNSET_VALUE" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies an unset value when binding a prepared statement.</p>
<p>Unset values are ignored, allowing prepared statements to be used without specify</p>
<p>See <a class="reference external" href="https://issues.apache.org/jira/browse/CASSANDRA-7304">https://issues.apache.org/jira/browse/CASSANDRA-7304</a> for further details on semantics.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.6.0.</span></p>
</div>
<p>Only valid when using native protocol v4+</p>
</dd></dl>

<dl class="class">
<dt id="cassandra.query.BatchStatement">
<em class="property">class </em><code class="descclassname">cassandra.query.</code><code class="descname">BatchStatement</code><span class="sig-paren">(</span><em>batch_type=BatchType.LOGGED</em>, <em>retry_policy=None</em>, <em>consistency_level=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cassandra/query.html#BatchStatement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.BatchStatement" title="Permalink to this definition">¶</a></dt>
<dd><p>A protocol-level batch of operations which are applied atomically
by default.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.0.0.</span></p>
</div>
<p><cite>batch_type</cite> specifies The <a class="reference internal" href="#cassandra.query.BatchType" title="cassandra.query.BatchType"><code class="xref py py-class docutils literal"><span class="pre">BatchType</span></code></a> for the batch operation.
Defaults to <a class="reference internal" href="#cassandra.query.BatchType.LOGGED" title="cassandra.query.BatchType.LOGGED"><code class="xref py py-attr docutils literal"><span class="pre">BatchType.LOGGED</span></code></a>.</p>
<p><cite>retry_policy</cite> should be a <a class="reference internal" href="policies.html#cassandra.policies.RetryPolicy" title="cassandra.policies.RetryPolicy"><code class="xref py py-class docutils literal"><span class="pre">RetryPolicy</span></code></a> instance for
controlling retries on the operation.</p>
<p><cite>consistency_level</cite> should be a <a class="reference internal" href="../cassandra.html#cassandra.ConsistencyLevel" title="cassandra.ConsistencyLevel"><code class="xref py py-class docutils literal"><span class="pre">ConsistencyLevel</span></code></a> value
to be used for all operations in the batch.</p>
<p><cite>custom_payload</cite> is a <a class="reference internal" href="protocol.html#custom-payload"><span class="std std-ref">Custom Payloads</span></a> passed to the server.
Note: as Statement objects are added to the batch, this map is
updated with any values found in their custom payloads. These are
only allowed when using protocol version 4 or higher.</p>
<p>Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">insert_user</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="s2">&quot;INSERT INTO users (name, age) VALUES (?, ?)&quot;</span><span class="p">)</span>
<span class="n">batch</span> <span class="o">=</span> <span class="n">BatchStatement</span><span class="p">(</span><span class="n">consistency_level</span><span class="o">=</span><span class="n">ConsistencyLevel</span><span class="o">.</span><span class="n">QUORUM</span><span class="p">)</span>

<span class="k">for</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span> <span class="ow">in</span> <span class="n">users_to_insert</span><span class="p">:</span>
    <span class="n">batch</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">insert_user</span><span class="p">,</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">))</span>

<span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">batch</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also mix different types of operations within a batch:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">batch</span> <span class="o">=</span> <span class="n">BatchStatement</span><span class="p">()</span>
<span class="n">batch</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">SimpleStatement</span><span class="p">(</span><span class="s2">&quot;INSERT INTO users (name, age) VALUES (</span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2">)&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">))</span>
<span class="n">batch</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">SimpleStatement</span><span class="p">(</span><span class="s2">&quot;DELETE FROM pending_users WHERE name=</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">name</span><span class="p">,))</span>
<span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">batch</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.0.0.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.1.0: </span>Added <cite>serial_consistency_level</cite> as a parameter</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified">Changed in version 2.6.0: </span>Added <cite>custom_payload</cite> as a parameter</p>
</div>
<dl class="attribute">
<dt id="cassandra.query.BatchStatement.serial_consistency_level">
<code class="descname">serial_consistency_level</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.BatchStatement.serial_consistency_level" title="Permalink to this definition">¶</a></dt>
<dd><p>The same as <a class="reference internal" href="#cassandra.query.Statement.serial_consistency_level" title="cassandra.query.Statement.serial_consistency_level"><code class="xref py py-attr docutils literal"><span class="pre">Statement.serial_consistency_level</span></code></a>, but is only
supported when using protocol version 3 or higher.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.BatchStatement.batch_type">
<code class="descname">batch_type</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.BatchStatement.batch_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#cassandra.query.BatchType" title="cassandra.query.BatchType"><code class="xref py py-class docutils literal"><span class="pre">BatchType</span></code></a> for the batch operation.  Defaults to
<a class="reference internal" href="#cassandra.query.BatchType.LOGGED" title="cassandra.query.BatchType.LOGGED"><code class="xref py py-attr docutils literal"><span class="pre">BatchType.LOGGED</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="cassandra.query.BatchStatement.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cassandra/query.html#BatchStatement.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.BatchStatement.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a convenience method to clear a batch statement for reuse.</p>
<p><em>Note:</em> it should not be used concurrently with uncompleted execution futures executing the same
<code class="docutils literal"><span class="pre">BatchStatement</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="cassandra.query.BatchStatement.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>statement</em>, <em>parameters=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cassandra/query.html#BatchStatement.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.BatchStatement.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a <a class="reference internal" href="#cassandra.query.Statement" title="cassandra.query.Statement"><code class="xref py py-class docutils literal"><span class="pre">Statement</span></code></a> and optional sequence of parameters
to be used with the statement to the batch.</p>
<p>Like with other statements, parameters must be a sequence, even
if there is only one item.</p>
</dd></dl>

<dl class="method">
<dt id="cassandra.query.BatchStatement.add_all">
<code class="descname">add_all</code><span class="sig-paren">(</span><em>statements</em>, <em>parameters</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cassandra/query.html#BatchStatement.add_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.BatchStatement.add_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a sequence of <a class="reference internal" href="#cassandra.query.Statement" title="cassandra.query.Statement"><code class="xref py py-class docutils literal"><span class="pre">Statement</span></code></a> objects and a matching sequence
of parameters to the batch. Statement and parameter sequences must be of equal length or
one will be truncated. <code class="xref py py-const docutils literal"><span class="pre">None</span></code> can be used in the parameters position where are needed.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cassandra.query.BatchType">
<em class="property">class </em><code class="descclassname">cassandra.query.</code><code class="descname">BatchType</code><a class="reference internal" href="../../_modules/cassandra/query.html#BatchType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.BatchType" title="Permalink to this definition">¶</a></dt>
<dd><p>A BatchType is used with <a class="reference internal" href="#cassandra.query.BatchStatement" title="cassandra.query.BatchStatement"><code class="xref py py-class docutils literal"><span class="pre">BatchStatement</span></code></a> instances to control
the atomicity of the batch operation.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.0.0.</span></p>
</div>
<dl class="attribute">
<dt id="cassandra.query.BatchType.LOGGED">
<code class="descname">LOGGED</code><em class="property"> = BatchType.LOGGED</em><a class="headerlink" href="#cassandra.query.BatchType.LOGGED" title="Permalink to this definition">¶</a></dt>
<dd><p>Atomic batch operation.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.BatchType.UNLOGGED">
<code class="descname">UNLOGGED</code><em class="property"> = BatchType.UNLOGGED</em><a class="headerlink" href="#cassandra.query.BatchType.UNLOGGED" title="Permalink to this definition">¶</a></dt>
<dd><p>Non-atomic batch operation.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.BatchType.COUNTER">
<code class="descname">COUNTER</code><em class="property"> = BatchType.COUNTER</em><a class="headerlink" href="#cassandra.query.BatchType.COUNTER" title="Permalink to this definition">¶</a></dt>
<dd><p>Batches of counter operations.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cassandra.query.ValueSequence">
<em class="property">class </em><code class="descclassname">cassandra.query.</code><code class="descname">ValueSequence</code><a class="reference internal" href="../../_modules/cassandra/encoder.html#ValueSequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.ValueSequence" title="Permalink to this definition">¶</a></dt>
<dd><p>A wrapper class that is used to specify that a sequence of values should
be treated as a CQL list of values instead of a single column collection when used
as part of the <cite>parameters</cite> argument for <a class="reference internal" href="cluster.html#cassandra.cluster.Session.execute" title="cassandra.cluster.Session.execute"><code class="xref py py-meth docutils literal"><span class="pre">Session.execute()</span></code></a>.</p>
<p>This is typically needed when supplying a list of keys to select.
For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">my_user_ids</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;alice&#39;</span><span class="p">,</span> <span class="s1">&#39;bob&#39;</span><span class="p">,</span> <span class="s1">&#39;charles&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT * FROM users WHERE user_id IN </span><span class="si">%s</span><span class="s2">&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">parameters</span><span class="o">=</span><span class="p">[</span><span class="n">ValueSequence</span><span class="p">(</span><span class="n">my_user_ids</span><span class="p">)])</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="cassandra.query.QueryTrace">
<em class="property">class </em><code class="descclassname">cassandra.query.</code><code class="descname">QueryTrace</code><a class="reference internal" href="../../_modules/cassandra/query.html#QueryTrace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.QueryTrace" title="Permalink to this definition">¶</a></dt>
<dd><p>A trace of the duration and events that occurred when executing
an operation.</p>
<dl class="attribute">
<dt id="cassandra.query.QueryTrace.request_type">
<code class="descname">request_type</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.QueryTrace.request_type" title="Permalink to this definition">¶</a></dt>
<dd><p>A string that very generally describes the traced operation.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.QueryTrace.duration">
<code class="descname">duration</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.QueryTrace.duration" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code> measure of the duration of the query.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.QueryTrace.client">
<code class="descname">client</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.QueryTrace.client" title="Permalink to this definition">¶</a></dt>
<dd><p>The IP address of the client that issued this request</p>
<p>This is only available when using Cassandra 2.2+</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.QueryTrace.coordinator">
<code class="descname">coordinator</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.QueryTrace.coordinator" title="Permalink to this definition">¶</a></dt>
<dd><p>The IP address of the host that acted as coordinator for this request.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.QueryTrace.parameters">
<code class="descname">parameters</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.QueryTrace.parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="xref py py-class docutils literal"><span class="pre">dict</span></code> of parameters for the traced operation, such as the
specific query string.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.QueryTrace.started_at">
<code class="descname">started_at</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.QueryTrace.started_at" title="Permalink to this definition">¶</a></dt>
<dd><p>A UTC <code class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></code> object describing when the operation
was started.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.QueryTrace.events">
<code class="descname">events</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.QueryTrace.events" title="Permalink to this definition">¶</a></dt>
<dd><p>A chronologically sorted list of <a class="reference internal" href="#cassandra.query.TraceEvent" title="cassandra.query.TraceEvent"><code class="xref py py-class docutils literal"><span class="pre">TraceEvent</span></code></a> instances
representing the steps the traced operation went through.  This
corresponds to the rows in <code class="docutils literal"><span class="pre">system_traces.events</span></code> for this tracing
session.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.QueryTrace.trace_id">
<code class="descname">trace_id</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.QueryTrace.trace_id" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal"><span class="pre">uuid.UUID</span></code> unique identifier for this tracing session.  Matches
the <code class="docutils literal"><span class="pre">session_id</span></code> column in <code class="docutils literal"><span class="pre">system_traces.sessions</span></code> and
<code class="docutils literal"><span class="pre">system_traces.events</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="cassandra.query.QueryTrace.populate">
<code class="descname">populate</code><span class="sig-paren">(</span><em>max_wait=2.0</em>, <em>wait_for_complete=True</em>, <em>query_cl=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/cassandra/query.html#QueryTrace.populate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.QueryTrace.populate" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the actual tracing details from Cassandra and populates the
attributes of this instance.  Because tracing details are stored
asynchronously by Cassandra, this may need to retry the session
detail fetch.  If the trace is still not available after <cite>max_wait</cite>
seconds, <a class="reference internal" href="#cassandra.query.TraceUnavailable" title="cassandra.query.TraceUnavailable"><code class="xref py py-exc docutils literal"><span class="pre">TraceUnavailable</span></code></a> will be raised; if <cite>max_wait</cite> is
<code class="xref py py-const docutils literal"><span class="pre">None</span></code>, this will retry forever.</p>
<p><cite>wait_for_complete=False</cite> bypasses the wait for duration to be populated.
This can be used to query events from partial sessions.</p>
<p><cite>query_cl</cite> specifies a consistency level to use for polling the trace tables,
if it should be different than the session default.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cassandra.query.TraceEvent">
<em class="property">class </em><code class="descclassname">cassandra.query.</code><code class="descname">TraceEvent</code><a class="reference internal" href="../../_modules/cassandra/query.html#TraceEvent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.TraceEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a single event within a query trace.</p>
<dl class="attribute">
<dt id="cassandra.query.TraceEvent.description">
<code class="descname">description</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.TraceEvent.description" title="Permalink to this definition">¶</a></dt>
<dd><p>A brief description of the event.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.TraceEvent.datetime">
<code class="descname">datetime</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.TraceEvent.datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>A UTC <code class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></code> marking when the event occurred.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.TraceEvent.source">
<code class="descname">source</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.TraceEvent.source" title="Permalink to this definition">¶</a></dt>
<dd><p>The IP address of the node this event occurred on.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.TraceEvent.source_elapsed">
<code class="descname">source_elapsed</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.TraceEvent.source_elapsed" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code> measuring the amount of time until
this event occurred starting from when <a class="reference internal" href="#cassandra.query.TraceEvent.source" title="cassandra.query.TraceEvent.source"><code class="xref py py-attr docutils literal"><span class="pre">source</span></code></a> first
received the query.</p>
</dd></dl>

<dl class="attribute">
<dt id="cassandra.query.TraceEvent.thread_name">
<code class="descname">thread_name</code><em class="property"> = None</em><a class="headerlink" href="#cassandra.query.TraceEvent.thread_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the thread that this event occurred on.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="cassandra.query.TraceUnavailable">
<em class="property">exception </em><code class="descclassname">cassandra.query.</code><code class="descname">TraceUnavailable</code><a class="reference internal" href="../../_modules/cassandra/query.html#TraceUnavailable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cassandra.query.TraceUnavailable" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when complete trace details cannot be fetched from Cassandra.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Cassandra Driver</a></h1>



<p class="blurb">Python driver for Cassandra</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=datastax&repo=python-driver&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#core-driver">Core Driver</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../cassandra.html"><code class="docutils literal"><span class="pre">cassandra</span></code> - Exceptions and Enums</a></li>
<li class="toctree-l3"><a class="reference internal" href="cluster.html"><code class="docutils literal"><span class="pre">cassandra.cluster</span></code> - Clusters and Sessions</a></li>
<li class="toctree-l3"><a class="reference internal" href="policies.html"><code class="docutils literal"><span class="pre">cassandra.policies</span></code> - Load balancing and Failure Handling Policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="auth.html"><code class="docutils literal"><span class="pre">cassandra.auth</span></code> - Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="metadata.html"><code class="docutils literal"><span class="pre">cassandra.metadata</span></code> - Schema and Ring Topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="metrics.html"><code class="docutils literal"><span class="pre">cassandra.metrics</span></code> - Performance Metrics</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"><code class="docutils literal"><span class="pre">cassandra.query</span></code> - Prepared Statements, Batch Statements, Tracing, and Row Factories</a></li>
<li class="toctree-l3"><a class="reference internal" href="pool.html"><code class="docutils literal"><span class="pre">cassandra.pool</span></code> - Hosts and Connection Pools</a></li>
<li class="toctree-l3"><a class="reference internal" href="protocol.html"><code class="docutils literal"><span class="pre">cassandra.protocol</span></code> - Protocol Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="encoder.html"><code class="docutils literal"><span class="pre">cassandra.encoder</span></code> - Encoders for non-prepared Statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="decoder.html"><code class="docutils literal"><span class="pre">cassandra.decoder</span></code> - Data Return Formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="concurrent.html"><code class="docutils literal"><span class="pre">cassandra.concurrent</span></code> - Utilities for Concurrent Statement Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="connection.html"><code class="docutils literal"><span class="pre">cassandra.connection</span></code> - Low Level Connection Info</a></li>
<li class="toctree-l3"><a class="reference internal" href="util.html"><code class="docutils literal"><span class="pre">cassandra.util</span></code> - Utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="io/asyncioreactor.html"><code class="docutils literal"><span class="pre">cassandra.io.asyncioreactor</span></code> - <code class="docutils literal"><span class="pre">asyncio</span></code> Event Loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="io/asyncorereactor.html"><code class="docutils literal"><span class="pre">cassandra.io.asyncorereactor</span></code> - <code class="docutils literal"><span class="pre">asyncore</span></code> Event Loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="io/eventletreactor.html"><code class="docutils literal"><span class="pre">cassandra.io.eventletreactor</span></code> - <code class="docutils literal"><span class="pre">eventlet</span></code>-compatible Connection</a></li>
<li class="toctree-l3"><a class="reference internal" href="io/libevreactor.html"><code class="docutils literal"><span class="pre">cassandra.io.libevreactor</span></code> - <code class="docutils literal"><span class="pre">libev</span></code> Event Loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="io/geventreactor.html"><code class="docutils literal"><span class="pre">cassandra.io.geventreactor</span></code> - <code class="docutils literal"><span class="pre">gevent</span></code>-compatible Event Loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="io/twistedreactor.html"><code class="docutils literal"><span class="pre">cassandra.io.twistedreactor</span></code> - Twisted Event Loop</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#object-mapper">Object Mapper</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrading.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../execution_profiles.html">Execution Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../performance.html">Performance Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../query_paging.html">Paging Large Queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lwt.html">Lightweight Transactions (Compare-and-set)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user_defined_types.html">User Defined Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../object_mapper.html">Object Mapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dates_and_times.html">Working with Dates and Times</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently Asked Questions</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">API Documentation</a><ul>
      <li>Previous: <a href="metrics.html" title="previous chapter"><code class="docutils literal"><span class="pre">cassandra.metrics</span></code> - Performance Metrics</a></li>
      <li>Next: <a href="pool.html" title="next chapter"><code class="docutils literal"><span class="pre">cassandra.pool</span></code> - Hosts and Connection Pools</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2013-2017 DataStax.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../../_sources/api/cassandra/query.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>